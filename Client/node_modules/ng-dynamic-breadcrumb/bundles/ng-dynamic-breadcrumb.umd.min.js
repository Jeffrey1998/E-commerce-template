!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs"),require("@angular/router"),require("rxjs/operators"),require("@angular/common")):"function"==typeof define&&define.amd?define("ng-dynamic-breadcrumb",["exports","@angular/core","rxjs","@angular/router","rxjs/operators","@angular/common"],e):e((r="undefined"!=typeof globalThis?globalThis:r||self)["ng-dynamic-breadcrumb"]={},r.ng.core,r.rxjs,r.ng.router,r.rxjs.operators,r.ng.common)}(this,(function(r,e,t,n,a,o){"use strict";var i=function(){function r(){this.breadcrumbLabels=new t.BehaviorSubject([]),this.newBreadcrumb=new t.BehaviorSubject([])}return r.prototype.updateBreadcrumbLabels=function(r){this.breadcrumbLabels.next(r)},r.prototype.updateBreadcrumb=function(r){this.newBreadcrumb.next(r)},r}();i.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new i},token:i,providedIn:"root"}),i.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],i.ctorParameters=function(){return[]};Object.create;function u(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create;var c=function(){function r(r,e,t){this.activatedRoute=r,this.router=e,this.ngDynamicBreadcrumbService=t,this.breadcrumb=[],this.bgColor="#eee",this.fontSize="18px",this.fontColor="#0275d8",this.lastLinkColor="#000",this.symbol=" / ",this.breadCrumbData()}return r.prototype.ngOnInit=function(){var r=this;this.ngDynamicBreadcrumbService.breadcrumbLabels.subscribe((function(e){var t=function(t){e.hasOwnProperty(t)&&r.breadcrumb.map((function(r){var n,a,o=r.label.match(/[^{{]+(?=\}})/g);if(o)try{for(var i=(n=void 0,u(o)),c=i.next();!c.done;c=i.next()){var l=c.value,s=e[t];l===t&&(r.label=r.label.replace("{{"+l+"}}",s))}}catch(r){n={error:r}}finally{try{c&&!c.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}}))};for(var n in e)t(n)})),this.ngDynamicBreadcrumbService.newBreadcrumb.subscribe((function(e){e.length>0&&r.updateData(r.activatedRoute,e)}))},r.prototype.breadCrumbData=function(){var r=this;this.router.events.pipe(a.filter((function(r){return r instanceof n.NavigationEnd}))).pipe(a.map((function(){return r.activatedRoute}))).pipe(a.map((function(r){for(;r.firstChild;)r=r.firstChild;return r}))).pipe(a.filter((function(r){return r.outlet===n.PRIMARY_OUTLET}))).subscribe((function(e){r.params=e.snapshot.params,r.updateData(e,null)}))},r.prototype.updateData=function(r,e){var t=this;if(r.snapshot.data.breadcrumb||e){var n=r.snapshot.data.breadcrumb?r.snapshot.data.breadcrumb:e,a=JSON.parse(JSON.stringify(n));a.map((function(r){var e,n,a,o,i=r.url.split("/");try{for(var c=u(i),l=c.next();!l.done;l=c.next()){var s=l.value;if(s.includes(":")){var d=s.replace(":",""),b=t.params[d];r.url=r.url.replace(":"+d,b)}}}catch(r){e={error:r}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}var p=r.label.match(/[^{{]+(?=\}})/g);if(p)try{for(var m=u(p),f=m.next();!f.done;f=m.next()){var y=f.value;(b=t.params[y.trim()])&&(r.label=r.label.replace("{{"+y+"}}",b))}}catch(r){a={error:r}}finally{try{f&&!f.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}})),this.breadcrumb=a}else this.breadcrumb=[]},r}();c.decorators=[{type:e.Component,args:[{selector:"app-ng-dynamic-breadcrumb",template:'<ul class="custom-bread-crumb" [ngStyle]="{\'background-color\': bgColor}">\r\n  <span *ngFor="let item of breadcrumb; let i = index">\r\n      <li [ngStyle]="{\'font-size\': fontSize}">\r\n          <a *ngIf="item?.url" [routerLink]="item?.url" [ngStyle]="{\'color\': fontColor}">{{ item.label }}</a>\r\n          <span *ngIf="!item?.url" [ngStyle]="{\'color\': lastLinkColor}">{{ item.label }}</span>\r\n          <span class="line" *ngIf="breadcrumb.length !== i+1">{{symbol}}</span>\r\n      </li>\r\n  </span>\r\n</ul>\r\n',styles:[".custom-bread-crumb{list-style:none;padding:10px 16px}.custom-bread-crumb li{display:inline}.custom-bread-crumb .line{padding-right:3px}.custom-bread-crumb li a{text-decoration:none}.custom-bread-crumb li a:hover{color:#01447e;text-decoration:underline}"]}]}],c.ctorParameters=function(){return[{type:n.ActivatedRoute},{type:n.Router},{type:i}]},c.propDecorators={bgColor:[{type:e.Input}],fontSize:[{type:e.Input}],fontColor:[{type:e.Input}],lastLinkColor:[{type:e.Input}],symbol:[{type:e.Input}]};var l=function(){};l.decorators=[{type:e.NgModule,args:[{declarations:[c],imports:[n.RouterModule,o.CommonModule],exports:[c]}]}],r.NgDynamicBreadcrumbComponent=c,r.NgDynamicBreadcrumbModule=l,r.NgDynamicBreadcrumbService=i,Object.defineProperty(r,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-dynamic-breadcrumb.umd.min.js.map